<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link href="{% static "css/bootstrap.min.css"%}" rel="stylesheet">
	<link href="{% static "css/bootstrap-responsive.min.css"%}" rel="stylesheet">
	<link href="{% static "css/style.css"%}" rel="stylesheet">

	<script type="text/javascript" src="{% static "js/jquery.min.js"%}"></script>
	<script type="text/javascript" src="{% static "js/bootstrap.min.js"%}"></script>
	<script type="text/javascript" src="{% static "js/scripts.js"%}"></script>
	<title> {{name}} | Teaching Overview </title>
</head>

<body>
	<div class="container-fluid">
		<div class="row-fluid">
			<h3>
				Teach Kids Code
			</h3>
			<div class="row-fluid">
				<div class="span3">
					<div id="menu">
						<ul class="nav nav-list">
							<li class="nav-header">
								Menu
							</li>
							<li class="active">
								<a href="#">Overview</a>
							</li>
							<li>
								<a href="set_exercise.html">Set exercise</a>
							</li>
							<li class="nav-header">
							</ul>
						</div>
					</div>
					<div class="span6">
						<div id="page-content">
							<h2>
								Overview
							</h2>
							<script>
							$(document).ready(function () {
								$('label.tree-toggler').click(function () {
									$(this).parent().children('ul.tree').toggle(300);
								});
								$('.table').hide();
							});
							</script>
							<div class="well" style=" padding: 8px 0;">
								<div style="">
									<ul class="nav nav-list">
										{% for year in teaching_hierarchy.get_teaching_years %}
											<li>
												<label class="tree-toggler nav-header">Year {{ year.get_name }}</label>
												<ul class="nav nav-list tree">
												{% for cls in year.get_teaching_classes %}
													<li class="nav nav-list tree">
													<a href="#" id="year-{{ year.get_name }}-class-{{ cls.get_name }}">Class {{ cls.get_name }}</a>
														<ul class="nav nav-list tree">
															<li>
																<table class="table" id="year-{{ year.get_name }}-class-{{ cls.get_name }}-table">
																	<thead>
																		<tr>
																			<th>#</th>
																			<th>Chapter</th>
																			<th>Problem name</th>
																			<th>Student name</th>
																			<th>Grade</th>
																			<th style="width: 36px;"></th>
																		</tr>
																	</thead>
																	<tbody>
																		{% for student in cls.get_students_data %}
																			<tr>
																				<th>{{ student.get_index }}</th>
																				<th>{{ student.get_chapter }}</th>
																				<th>{{ student.get_problem_name }}</th>
																				<th>{{ student.get_student_name }}</th>
																				<th>{{ student.get_grade }}</th>
																			</tr>
																		{% endfor %}
																	</tbody>
																</table>
															</li>
														</ul>
													</li>
												{% endfor %}
												</ul>
											</li>
										{% endfor %}
									</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<script>
	{% for year in teaching_hierarchy.get_teaching_years %}
		{% for cls in year.get_teaching_classes %}
			$("#year-{{ year.get_name }}-class-{{ cls.get_name }}").click(function () {
				$("#year-{{ year.get_name }}-class-{{ cls.get_name }}-table").toggle();
			});
		{% endfor %}
	{% endfor %}
</script>
</body>
</html>

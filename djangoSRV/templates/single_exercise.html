<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <link href="{% static "css/bootstrap.min.css"%}" rel="stylesheet">
  <link href="{% static "css/bootstrap-responsive.min.css"%}" rel="stylesheet">
  <link href="{% static "css/style.css"%}" rel="stylesheet">

  <script type="text/javascript" src="{% static "js/jquery.min.js"%}"></script>
  <script type="text/javascript" src="{% static "js/bootstrap.min.js"%}"></script>
  <script type="text/javascript" src="{% static "js/scripts.js"%}"></script>
  <title> {{title}} </title>

</head>

<body>
 <div class="container-fluid">
  <div class="row-fluid">
    <h3>
     A Framework for Setting and Assessing Programming Exercises
   </h3>
   <div class="span2">
    <script>
    $(document).ready(function () {
      $('ul.menu-list').toggle();
      $('label.tree-toggler').click(function () {
       $(this).parent().children('ul.tree').toggle(200);
     });
    });
    </script>
      <ul class="nav nav-list">
        <li class="nav-header">
           Menu
        </li>
        <li class="active">
          <a href="/student-view/">Code</a>
          <ul class="nav nav-list">
            {% for chapter in assignments.get_chapters %}
              <li><label class="tree-toggler nav-header">{{chapter.get_name}}</label>
                <ul class="nav nav-list tree menu-list">
                  {% for assignment in chapter.get_assignments %}
                    <li><a href="/code-single-exercise/{{ assignment.get_id }}">{{ assignment.get_name }}</a></li>
                  {% endfor %}
                </ul>
              </li>
            {% endfor %}
          </ul>
        </li>
        <li>
         <a href="/student-grades/">Grades</a>
        </li>
        <li>
          <a href="logout.html">Log out</a>
        </li>
      </ul>
    </div>
    <div class="span9">
      <div class="panel panel-default">
        <div class="panel-body">                
          <form accept-charset="UTF-8" action="/submit-code/{{ex_id}}/" method="POST">
            {% csrf_token %}
            <p>{{ description }}</p>
            {{ code_form.non_field_errors }}
            {{ code_form.code.errors }}
            {{ code_form.code }}
            <br>
            <label style="display:block">
              <table><tr>
                <td><button class="btn btn-info" type="Submit" onclick="check()">Submit</button></td>
                <td><div id="ok">Ok!</div></td>
                <td><div id="wrong">X</div></td>
              </tr></table>
            </label>
          </form>
        </div>
      </div>
    </div>
    </div>
  </div>
  <script>

  $('#wrong').hide();
  $('#ok').hide();

  function check() {
    if (Math.random() < 0.5) {
      $('#wrong').hide();
      $('#ok').show();
    } else {
      $('#ok').hide();
      $('#wrong').show();
    }
  }
  </script>
</body>
</html>